<!DOCTYPE html>
<html lang="en">
  <!-- Geolocation guard to enforce blocked regions -->
  <script>
  // Apply dark mode class *before* page paints
  (function () {
    try {
      const isDark = localStorage.getItem('darkMode') === 'true';
      if (isDark) document.documentElement.classList.add('dark-mode');
    } catch (e) {}
  })();
</script>

<head>
    <!-- Chat application metadata and dependencies -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syv√§AI</title>
    <link rel="icon" href="/logos/logo/SyvaAI.png" type="image/png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<!-- Firebase v8 SDK bundles for chat authentication -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>


<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script> <!-- Firestore enables chat history storage -->
    <script type="module" src="index.js"></script>

      <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0d0d0d;
      color: white;
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen">
    <script>
// Blocked countries
const BLOCKED_COUNTRIES = ['CN', 'IR', 'KP', 'SY', 'CU', 'RU', 'BY', 'MM', 'VE', 'SD', 'AF', 'SL', 'UA', 'TR'];

// Check user's country on page load
async function checkGeoblock() {
  try {
    // Use free IP geolocation API
    const response = await fetch('https://ipapi.co/json/');
    const data = await response.json();
    
    const countryCode = data.country_code;
    
    console.log('User country:', countryCode);
    
    if (BLOCKED_COUNTRIES.includes(countryCode)) {
      // Block access
      document.body.innerHTML = `
        <div style="
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
          background: #1a1a1a;
          color: white;
          font-family: Arial, sans-serif;
          text-align: center;
          padding: 20px;
        ">
          <div>
            <h1>Access Denied</h1>
            <p>Access to this service is not available in your region.</p>
            <p style="color: #888; font-size: 14px;">Country: ${countryCode}</p>
          </div>
        </div>
      `;
      
      // Prevent any further script execution
      throw new Error('Geoblocked');
    }
  } catch (error) {
    if (error.message === 'Geoblocked') {
      throw error;
    }
    // If geolocation fails, allow access (fail-open)
    console.log('Geolocation check failed, allowing access');
  }
}

// Run check immediately
checkGeoblock();
</script>
  <!-- Firebase initialization and authentication guard -->
  <script>
    const firebaseConfig = {
  apiKey: "AIzaSyD_qlUue2zbN98YbZEdiTAUoGfD9AQ1250",
  authDomain: "syvaai-website.firebaseapp.com",
  databaseURL: "https://syvaai-website-default-rtdb.firebaseio.com",
  projectId: "syvaai-website",
  storageBucket: "syvaai-website.appspot.com",
  messagingSenderId: "617237097658",
  appId: "1:617237097658:web:f037266cbbf5d82e80e683",
  measurementId: "G-CPMSS94CFR",
};
if (!firebase.apps.length) {
  firebase.initializeApp(firebaseConfig);
} else {
  firebase.app(); // If already initialized
}
    document.addEventListener("DOMContentLoaded", function() {
   // Firebase authentication check when the page loads
   firebase.auth().onAuthStateChanged(user => {
      if (!user) {
         // If the user is not signed in, redirect them to the sign-in page
         window.location.href = "/chat/5667862vc72647237n67an769ndn793n6n9a76wr9wra.html"; // Redirect to your sign-in page
      }
   });
});

  </script>


  <div class="w-full max-w-sm bg-[#0d0d0d] p-6 rounded-xl space-y-6">

    <!-- Header -->
          <div class="chat-toolbar">
        <div class="dropdown">
          <button onclick="myFunction()" class="userbutton"><img src="/logos/logo/user.png" height="20px" width="20px"></button>
          <div id="myDropdown" class="dropdown-content">
            <a href="#" onclick="openIframe('settings.htm')">Settings</a>
            <a href="https://syvaai.com/donate.html" style="color:rgb(3, 104, 3);">Donate</a>
            <a href="#" onclick="openIframe('report.html')">Report somthing</a>
          </div>
        </div>
        <button onclick="myFunction2()" id="dark-toggle" class="darkmode"><img src="/logos/logo/day-and-night.png" height="20px" width="20px"></button>
        <button onclick="myFunction3()" id="toggleChatsBtn" class="menubut"><img src="/logos/logo/menu.png" height="20px" width="20px"></button>
        <button onclick="startNewChat()" id="toggleChatsBtn" class="menubut"><img src="/logos/logo/newchat.png" height="20px" width="20px"></button>
      </div>
    <div>
      <h1 class="text-2xl font-semibold">Hello there!</h1>
      <p class="text-gray-400 mt-1">How can I help you today?</p>
    </div>

    <!-- Suggested messages -->
    <div class="space-y-3">
      <button class="w-full text-left bg-[#1a1a1a] hover:bg-[#262626] transition rounded-xl px-4 py-3 text-sm">
        <span class="text-white font-medium">What's the weather</span> 
        <span class="text-gray-400">in San Francisco?</span>
      </button>

      <button class="w-full text-left bg-[#1a1a1a] hover:bg-[#262626] transition rounded-xl px-4 py-3 text-sm">
        <span class="text-white font-medium">Explain React hooks</span> 
        <span class="text-gray-400">like useState and useEffect</span>
      </button>
    </div>

    <!-- Message input -->
    <div class="relative">
      <input 
        type="text" 
        placeholder="Send a message..." 
        class="w-full bg-[#1a1a1a] text-gray-200 placeholder-gray-500 rounded-full py-3 px-4 pr-12 focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
    </div>

  </div>
</body>
</html>